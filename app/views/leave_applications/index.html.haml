.wrapper.wrapper-content.animated.fadeInRight
  .row
    .col-lg-12
      - if can? :new, LeaveApplication
        = link_to new_leave_application_path, class: "btn btn-primary btn-rounded m-sm pull-right" do
          %i.fa.fa-plus{"aria-hidden" => true}
          &nbsp;&nbsp; New Leave Application
      .ibox.float-e-margins
        .ibox-title All Leave Applications
        .ibox-content
          .table-responsive
            %table.table.table-bordered.table-striped.pretty
              %thead
                %tr
                  - if can? :show, LeaveApplication
                    %th= sortable "id", "Leave Application ID"
                  %th= sortable "vacation_type_id", "Vacation Type"
                  %th= sortable "number_of_days"
                  %th= sortable "start_date"
                  %th= sortable "end_date"
                  %th= sortable "status"
              %tbody
                - @leave_applications.each do |leave_application|
                  %tr
                    - if can? :show, LeaveApplication
                      %td.font-bold= link_to leave_application.id, leave_application
                    %td
                      %span.badge.badge-info
                        = leave_application.vacation_type.try(:name)
                    %td= leave_application.number_of_days
                    %td= leave_application.start_date
                    - if leave_application.end_date.nil?
                      %td.text-center -
                    -else
                      %td= leave_application.end_date
                    %td{class: "#{class_decider(leave_application.status)}"}= leave_application.status
